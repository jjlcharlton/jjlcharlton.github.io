<!DOCTYPE html>
<html lang="en" data-color-scheme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Generator - Discord Trade Bot Format</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Pokémon Generator</h1>
            <p>Create legal Pokémon for Discord trade bots and Showdown</p>
        </header>

        <div class="main-grid">
            <!-- Left Column -->
            <div class="left-column">
                <!-- Species Selection -->
                <div class="card">
                    <div class="card__header">
                        <h3>Species Selection</h3>
                    </div>
                    <div class="card__body">
                        <div class="form-group">
                            <label class="form-label" for="speciesInput">Pokémon Species</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" id="speciesInput" class="form-control" placeholder="Type to search Pokémon...">
                                <div id="speciesDropdown" class="dropdown-list"></div>
                            </div>
                        </div>
                        
                        <!-- Gender Selection (only shows for gendered Pokemon) -->
                        <div id="genderSection" class="form-group" style="display: none;">
                            <label class="form-label" for="genderSelect">Gender</label>
                            <select id="genderSelect" class="form-control">
                                <option value="">Select gender...</option>
                                <option value="M">Male (M)</option>
                                <option value="F">Female (F)</option>
                            </select>
                        </div>
                        
                        <!-- Nickname Field -->
                        <div class="form-group">
                            <label class="form-label" for="nicknameInput">Nickname (Optional)</label>
                            <input type="text" id="nicknameInput" class="form-control" placeholder="Enter custom nickname..." maxlength="12">
                        </div>
                        
                        <div id="pokemonPreview" class="pokemon-preview" style="display: none;">
                            <img id="pokemonSprite" class="pokemon-sprite" alt="Pokémon sprite">
                            <div class="pokemon-details">
                                <div id="pokemonTypes" class="pokemon-types"></div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label" for="levelInput">Level</label>
                                        <input type="number" id="levelInput" class="form-control" min="1" max="100" value="50">
                                    </div>
                                    <div class="form-group">
                                        <label class="shiny-toggle">
                                            <input type="checkbox" id="shinyToggle">
                                            <span class="checkmark"></span>
                                            Shiny
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ability & Nature -->
                <div class="card">
                    <div class="card__header">
                        <h3>Ability & Nature</h3>
                    </div>
                    <div class="card__body">
                        <div class="form-group">
                            <label class="form-label" for="abilitySelect">Ability</label>
                            <select id="abilitySelect" class="form-control">
                                <option value="">Select ability...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="natureSelect">Nature</label>
                            <select id="natureSelect" class="form-control">
                                <option value="">Select nature...</option>
                            </select>
                        </div>
                        <div id="natureEffect" class="nature-effect"></div>
                    </div>
                </div>

                <!-- Held Item & Ball -->
                <div class="card">
                    <div class="card__header">
                        <h3>Item & Ball</h3>
                    </div>
                    <div class="card__body">
                        <div class="form-group">
                            <label class="form-label" for="itemInput">Held Item</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" id="itemInput" class="form-control" placeholder="Type to search items...">
                                <div id="itemDropdown" class="dropdown-list"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="ballSelect">Poké Ball</label>
                            <select id="ballSelect" class="form-control">
                                <option value="">Select ball...</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="right-column">
                <!-- Moves -->
                <div class="card">
                    <div class="card__header">
                        <h3>Moves (Max 4)</h3>
                    </div>
                    <div class="card__body">
                        <div class="moves-grid">
                            <div class="move-slot">
                                <label class="form-label" for="moveSelect1">Move 1</label>
                                <select id="moveSelect1" class="form-control move-select" data-move="0">
                                    <option value="">Select move...</option>
                                </select>
                            </div>
                            <div class="move-slot">
                                <label class="form-label" for="moveSelect2">Move 2</label>
                                <select id="moveSelect2" class="form-control move-select" data-move="1">
                                    <option value="">Select move...</option>
                                </select>
                            </div>
                            <div class="move-slot">
                                <label class="form-label" for="moveSelect3">Move 3</label>
                                <select id="moveSelect3" class="form-control move-select" data-move="2">
                                    <option value="">Select move...</option>
                                </select>
                            </div>
                            <div class="move-slot">
                                <label class="form-label" for="moveSelect4">Move 4</label>
                                <select id="moveSelect4" class="form-control move-select" data-move="3">
                                    <option value="">Select move...</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- IVs and EVs -->
                <div class="card">
                    <div class="card__header">
                        <h3>IVs & EVs</h3>
                    </div>
                    <div class="card__body">
                        <div class="stats-grid">
                            <div class="stats-header">
                                <span>Stat</span>
                                <span class="iv-header">IV</span>
                                <span class="ev-header">EV</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-name">HP</span>
                                <input type="number" class="form-control iv-input" min="0" max="31" value="31" data-stat="hp">
                                <input type="number" class="form-control ev-input" min="0" max="252" value="0" data-stat="hp">
                            </div>
                            <div class="stat-row">
                                <span class="stat-name">Attack</span>
                                <input type="number" class="form-control iv-input" min="0" max="31" value="31" data-stat="attack">
                                <input type="number" class="form-control ev-input" min="0" max="252" value="0" data-stat="attack">
                            </div>
                            <div class="stat-row">
                                <span class="stat-name">Defense</span>
                                <input type="number" class="form-control iv-input" min="0" max="31" value="31" data-stat="defense">
                                <input type="number" class="form-control ev-input" min="0" max="252" value="0" data-stat="defense">
                            </div>
                            <div class="stat-row">
                                <span class="stat-name">Sp. Atk</span>
                                <input type="number" class="form-control iv-input" min="0" max="31" value="31" data-stat="special-attack">
                                <input type="number" class="form-control ev-input" min="0" max="252" value="0" data-stat="special-attack">
                            </div>
                            <div class="stat-row">
                                <span class="stat-name">Sp. Def</span>
                                <input type="number" class="form-control iv-input" min="0" max="31" value="31" data-stat="special-defense">
                                <input type="number" class="form-control ev-input" min="0" max="252" value="0" data-stat="special-defense">
                            </div>
                            <div class="stat-row">
                                <span class="stat-name">Speed</span>
                                <input type="number" class="form-control iv-input" min="0" max="31" value="31" data-stat="speed">
                                <input type="number" class="form-control ev-input" min="0" max="252" value="0" data-stat="speed">
                            </div>
                        </div>
                        <div class="ev-total">
                            <span>Total EVs: <span id="evTotal">0</span>/510</span>
                            <div id="evError" class="error-message" style="display: none;">EV total exceeds 510!</div>
                        </div>
                        
                        <!-- IV/EV Display Format -->
                        <div class="stats-display">
                            <div class="stats-line">
                                <strong>IVs:</strong> <span id="ivDisplay">31 HP / 31 Atk / 31 Def / 31 SpA / 31 SpD / 31 Spe</span>
                            </div>
                            <div class="stats-line">
                                <strong>EVs:</strong> <span id="evDisplay">0 HP / 0 Atk / 0 Def / 0 SpA / 0 SpD / 0 Spe</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trainer Info -->
                <div class="card">
                    <div class="card__header">
                        <h3>Trainer Info</h3>
                    </div>
                    <div class="card__body">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="otInput">OT Name</label>
                                <input type="text" id="otInput" class="form-control" placeholder="Trainer" maxlength="12" value="Ash">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="otGenderSelect">OT Gender</label>
                                <select id="otGenderSelect" class="form-control">
                                    <option value="M">Male (M)</option>
                                    <option value="F">Female (F)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="tidInput">TID</label>
                                <input type="number" id="tidInput" class="form-control" min="0" max="99999" value="12345">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="sidInput">SID</label>
                                <input type="number" id="sidInput" class="form-control" min="0" max="99999" value="54321">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Generate Button -->
        <div class="generate-section">
            <button id="generateButton" class="btn btn--primary btn--lg btn--full-width" disabled>
                Generate Pokémon
            </button>
            <div id="validationErrors" class="validation-errors"></div>
        </div>

        <!-- Export Results -->
        <div id="exportSection" class="export-section" style="display: none;">
            <div class="export-tabs">
                <button class="tab-button active" data-tab="discord">Discord Bot Format</button>
                <button class="tab-button" data-tab="showdown">Showdown Format</button>
            </div>
            <div class="export-content">
                <div class="export-tab active" data-tab="discord">
                    <div class="export-header">
                        <h4>Discord Bot Export</h4>
                        <button class="btn btn--secondary btn--sm copy-btn" data-target="discordOutput">Copy</button>
                    </div>
                    <textarea id="discordOutput" class="export-textarea" readonly></textarea>
                </div>
                <div class="export-tab" data-tab="showdown">
                    <div class="export-header">
                        <h4>Showdown Export</h4>
                        <button class="btn btn--secondary btn--sm copy-btn" data-target="showdownOutput">Copy</button>
                    </div>
                    <textarea id="showdownOutput" class="export-textarea" readonly></textarea>
                </div>
            </div>
        </div>
    </div>

    <div id="errorToast" class="error-toast" style="display: none;"></div>
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <div>Loading Pokémon database...</div>
    </div>

    <script src="app.js"></script>
</body>
</html>